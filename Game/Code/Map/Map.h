#include <Code/Utilities/SpriteLoader.h>
#include <Code/Math/Vector2.h>
#include "Tile.h"
#include <iostream>
#include <vector>
#include "MapSettings.h"

namespace Avoidant{

    class Map {

    public:
        Map() = default;
        ~Map();

        void Init();
        void Draw();

    private:
        void InitBackground();
        void InitMapTiles();
        void DrawTiles();
        void DrawBackground() const;

    private:
        SDL_Texture* m_BackgroundTexture = nullptr;
        SDL_Texture* m_TilesTexture = nullptr;

        std::vector<Tile> m_MapTiles;

        MapSettings m_Settings;

        // Vector coordinates coresponds to cordinates on sheet
        Engine::Vector2 m_Vectors [9][16] {

                {{0,0} ,{0,0}, {0,0},{0,0},{0,0},{0,0},{0,0},{0,0},{0,0},{0,0},{0,0},{0,0},{0,0},{0,0},{0,0},{0,0},},
                {{0,0} ,{0,0}, {0,0},{0,0},{0,0},{0,0},{0,0},{9,11},{10,11},{11,11},{0,0},{0,0},{0,0},{0,0},{0,0},{0,0},},
                {{0,12} ,{1,12}, {2,12},{0,0},{0,0},{0,0},{0,0},{9,12},{10,12},{11,12},{0,0},{0,0},{0,0},{0,0},{4,13},{3,12},},
                {{10,1} ,{11,1}, {12,1},{0,0},{0,0},{0,0},{0,0},{9,13},{10,13},{11,13},{0,0},{0,0},{10,1},{11,1},{11,1},{12,1},},
                {{0,0} ,{0,0}, {0,0},{0,0},{0,0},{0,0},{2,13},{3,13},{10,14},{11,14},{0,0},{0,0},{0,0},{0,0},{0,0},{0,0},},
                {{0,0} ,{0,0}, {0,0},{0,0},{10,3},{11,3},{12,3},{13,3},{14,3},{15,3},{0,0},{0,0},{0,0},{0,0},{0,0},{0,0},},
                {{0,0} ,{0,0}, {0,0},{0,0},{0,0},{11,4},{12,4},{13,4},{14,4},{0,0},{0,0},{17,1},{18,1},{18,1},{18,1},{18,1},},
                {{24,1} ,{24,1}, {25,1},{0,0},{0,0},{0,0},{0,0},{13,5},{0,0},{0,0},{0,0},{17,2},{18,2},{18,2},{20,2},{21,2},},
                {{23,2} ,{24,2}, {25,2},{0,0},{0,0},{0,0},{0,0},{0,0},{0,0},{0,0},{0,0},{17,3},{18,3},{19,3},{20,3},{21,3},},

        };
    };
}


